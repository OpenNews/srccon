Using web type: pitfalls and workarounds
Session facilitator(s): Allen Tan
Day & Time: Thursday, 12:30-1:30pm
Room: Garden 1

>> Okay, so I guess we can start unless people are still coming in.  Can you close the door?  Cool.  I didn't expect so many people to come.  So this is awesome.  So, I'm Allen.  I work in Digital Design for the New York Times and one of the biggest things that we did in the redesign over the past year was we migrated all of our fonts that we were using in print and putting that online and we were -- we had for years, been using them in a couple of small places but this was kind of the first time that we deployed it site-wide.  And it seemed like from seeing a lot of new sites redesigning in the past year or two, everyone has been shifting to web fonts.  So I guess it would be good to just sort of talk about, you know?  Have people worked with them before?  Are there problems that you've run into.  Are there things that you wish that you can do that you can't do now?  So I guess, first of all who works at a place whose website uses web fonts?  So... good.  Good proportion.  Does everyone use Typekit?  Do they use Fontdeck?  Webtype.
>> Font kit.
>> Do you roll your own stack?  Okay, cool.  Yeah, so I think that's one of the first things we're going to talk about, is just five years ago, Typekit was a really innovative thing and they really worked to standardize and support cross browsers but we have been, at least in the Times, we've been finding that they're not super responsive to the needs of a news organization where you have, you know, your set of five fonts that you're going to use and you don't need their entire catalogue.  And browser support has gotten good enough that we don't really need to pay a service every month to do that.  So I guess one of the things to talk about is just like, is there an ideal solution now where you can roll everything in CS and use font face?  And also, what does that mean for performance and what do you do when you're loading web fonts on mobile, and you don't want that to block the rest of your page from loading?  But, that type of stuff.  So I think -- yeah, the main things that we're going to try to do is sort of break -- there are three tables and we're going to have three different topics to talk about.  And I think just, like, move to, like, the table that you're interested in, and we'll talk about it at the end.  So the first one is, yeah, "What does an ideal webfont tech stack look like?"  "How is browser support?"  "What does that look like?"  "Should you only use CSS support?"  "Do you use a JS loader?"  What does that mean for caching and performance?  And what does that mean on mobile web?  So, I... I'm going to move this on this table since you guys have already set up.  You will work on your own stack and then people can talk about that if you're interested.  And then, next question was how many of you work on, like, special graphics or interactives, and use type in that sort of scenario in, like, one off custom solutions?  Okay, cool, so a lot of people.  So, the next thing just sort of like, what is your wishlist on things that you wish you could do dynamically in Javascript?  Like, could we have proper justification?  Could we have hyphenation?  Could we have proper kerning?  Things like that.  And then the last one is just general problems that people have had in using web fonts.  You know, do you have rendering problems across different browsers, across different OSs?  And do people create icon fonts?  Do any of you use those?  Okay.  Awesome.  So, I think that's kind of, like, the third topic -- it's kind of a grab bag and I'll just put that in the middle table.  So there are Sharpies, Post-Its on the tables.  So feel free to start.
[ Discussion ]
ALLEN:  Okay, so I think we're going to sort of go through each group and talk about the things you've come up with.  It also seems like a lot of people had very specific links for things they were talking about.  So I just started an etherpad.  You can go to it from shoutkey.com/mossy, and I think it would probably be useful for us to collect the different links that we were talking about and pointing people to.
>> Shoutkey.com slash what?
ALLEN:  Shoutkey.com/mossy, M-O-S-S-Y.  So just add your links to the top of the document when you're presenting.  We should start with you guys.
>> Um, so we had kind of like, a wishlist of things that we've both had problems with and things we want.  So the fonts are too large is, you know, a problem.  We're, I guess trying to pack a bunch of fonts into our sites.  A lot of times, there's almost, like, a performance budget that we have to have in terms of how many things are loaded.  So, you know, some websites have, like, subsetting where you can subset just English-language characters which helps with font size, a little bit.  So we were like, how big is too big?  And it's different depending on, like, mobile versus, you know, broadband connection.  We also have kind of an issue with licensing for individual posts.  So if, like, there's a big feature that we're doing, we don't want to, like, spend the money to license that as like a full website.  That's just a 1-off.  So kind of having this big yearly renewal thing is kind of a bit much for and a one post-tests -- bit much for one post.  So Typekit has à la cart licensing, but for the most part we've been using Google Fonts which are free but you get what you pay for.  Centralized place to find fonts is something that we've been having a little trouble with.  So, you know, where to find these things, and you know, as we're looking through one library we have no idea what another library has.  So being able to compare those would be great.  What effects can we apply?  So, like, it would be really nice to have, like, a library of effects and share a little bit more knowledge, in terms of those kinds of things.  Rendering's all over the map.  So halfway-consistent idea in terms of what rendering can be like in different browser.  Better printing support was something that came up.  A lot so printing can often result in missing characters and, like, weird glyphs, so making that better would be great.  Actual kerning support like JS, where it wraps in span.  We were having a really long discussion on, you know, how to make that work.  And no real answers but fascinating discussion.  And also, window controls.  So there's always like that widow at the end that is super annoying.  So yeah, that's kind of the stuff we came up with.
ALLEN:  I think that's part of the CSS 4 spec that's being worked on now.  One of the things that you'll be able to detect is how good your data connection is.  I think there's, like, shitty, okay, and good.  I think it's three levels.
>> Yeah, that's what they're called.
ALLEN:  Yeah, so something that might be useful.  How about you guys in the middle?
>> So yeah, talking about rendering problems across different browsers and OSes, and?"  Tradeoffs of how to embed images -- icon fonts, or SVG's.  So some rendering problems with type that I've had are loading certain fonts on IE like IE8, and maybe nine too will just default to italic.  You have to specifically, you know, if you're trying to embed a whole family in, it will find the italic version first.  We've been running.
>>   Like, Typekit has a blog post about how to specifically specify, you know, the normal, the regular version instead of that if you're having that.  But it kind of sucks because you can't -- you have to, like, specify different family in CSS for italic if you want to use that.  Another one like ine height differences in Firefox it seems like if you use M's, it'll calculate it a little differently and that runs into some issues with, like, icon alignment, baseline alignment, that kind of stuff.  And, you know, so there's the, you know, the brief flash of unstyled type error where before it, you know, actually loads your font especially if you don't, or I guess if you load it asynchronously.  And if you have, like, a large kit you'll see the fallback font first.  And a lot of times, you know, like, the same font at a different -- or at the same point size will -- or different fonts at the same point size will be totally different sizes and that will throw off your lines and all that.  And it'll just be very jarring.  I've had it -- it's probably just me.  I've had, like, issues with SVG's, and, um, the whitespace, like, rendering them in Illustrator and have the artboard be a certain size.  Like, I'll embed them in IE, and it'll cut it off.  I think this has to do when you don't specify a fixed size in SVG when you're trying to have it, like, a percentage or adjust it, and that's one reason why importantly to use icon fonts because I don't have that issue.  And, yeah but the one issue with icon fonts is that, um, you have to -- if you want to add another icon, you have to update the whole -- you have to render the whole font again, and, you know, you might make an error that'll mess up other icons.  Yeah.  Anything else to add?  Anything that I missed?
>> I'm mostly unqualified to answer this question, but I don't know, I was really interested in Cory's approach.  They have their own JSLoader, which is not Typekit.
>> Sorry can you repeat what the question is?
>> Sorry, our question is what does an ideal web font text doc look like?  And most of us at this table maybe not in the leads about how that happens.  But Typekit, obviously is one solution that, you know, a lot of people use and uses a JSLoader to split up fonts so you're only getting piece at a time and I think it puts it together in some ways.  So it gives you some sort of DRM support but I don't know.  Do you guys want to talk about it?
>> Yeah, I mean, while you're saying that, I think what we do is we load, we load the font using a JSLoader so that it renders the page and then it comes back, but then -- it upgrades the page but I think what happens is that we store the font in local storage and so the JSLoader checks to see if that exists and then something some decision-making based on that because you can see it on our site but we have a beta site that's getting ready to roll out all across all of the web and the goal of that site is to load, incrementally, progressively enhancing pages versus what we have now is where you have everything.  So it's kind of that thought process is what trickles down to fonts?
>> Who's "we?"
>> The Guardian?
>> That sounds similar to something that we tried, or experimenting now for mobile Webtype where you don't always have a great connection, so you can't hide the unstyled text until your font loads.  So one of the things that we were planning on was, like, we will load the page initially and we'll do some Javascript logic, initially where we look at local storage to see whether the font has been downloaded and if it hasn't been flooded we'll download the font but not actually change the page until the next time that you actually go to another local and then we detect that you've already downloaded the font, and then we do that and avoid the flash.
>> I think part of why we don't do that because in the mobile apps, the pages render as HTML and they're, like, really big on consistency.  So if you come to a home page and it's there, and then you come to an article and it's not, it's, like, obviously a strange thing.  So I think that's one reason they do.
>> I don't know.  At the New York Times we have this huge default, sort of "kit" of, I don't know, how many --
>> 700 kilobytes?
>> It's 700 kilobytes, which, I guess on the desktop just sucks the first time, if you're a repeat visitor, it's probably fine but then there's team like mine where we build off of interactives where we might want to use more than that, or different ones than that.  So we get we've got that 700, or 800K off of the platform and then we're adding video, and then we're adding images.  It's not the most ideal tech implementation.  So I feel like having that very skinny baseline set of faces for your platform and then CSS being able to add certain faces as you go might be better performance-wise.
ALLEN:  Right now, we're selling Typekit and it's everything.  And we never had pages that loaded all of them, or that needed all of them so it doesn't make sense to do that.
>> But we talked about how it's very aggressively cached, so once you have it, you have it for a year.
>> Typekit it?
>> Well, is that an advantage of a JSLoader versus just CSS, because CSS browsers -- it's whatever the browser knows is --
>> So it downloads a font file and that font file could be cached locally by your browser so that if I make a request it doesn't do it again.  What Typekit is doing is loading it and putting a query string on it because they're tracking their page views, right?  Their usage of it so that's why Typekit uses a Javascript solution to do that as well as the other benefits of that, CSS classes to say when something is loaded versus when it's not, stuff like that.  But if you have the fonts on your server already, you can already serve it up just using add font face rules.
>> There's no downfall of that or drawback?  Like, there must be some advantage to, you know, rolling your own JSLoader, right?
>> Well, I mean you would want to do it with pure CS because you don't need the Javascript dependence for it, but then you can't make decisions, I only want to load this on, or it's Windows and chrome, I don't want to load the CSS file.  Those kinds of decisions have to happen somewhere.  What Google Fonts does is, it does it on the serve side so when you include that CSS file, you're making a request to their server and sending back the font that you need so that you don't send all the different variants.
>> Is that slow?
>> No, that's better, but that takes a lot more computing resources that's harder to do, and any of that backend logic to be able to do that.
>> I just learned a lot.
>> I mean, all the web fonts are they're just binary files that you just download.  So just like an image, you can cache images so that your browser holds onto them longer.  You can do the same thing with a font file but it just doesn't work the same way if -- like, your browser still has to check -- I used to have this font file, and you still get that flash of unstyled content.  So it would be better if it was like.  Let me download this font and now I know that this site has this font stored locally as if it was a native font stored on your system.  Do you know what I mean?
>> I'm curious if anyone's played with serving two packages.  So maybe a critical font package of just like, you know, a base, you know, regular sans which is on your page, and then I don't know, enhance that with the italics and bolds later, so it might be similar to critical CSS and some of those optimizations.
>> The only thing if you were curious about this was that there was this -- the guy who had actually been responsible for the next Jen guaranteed site very fast gave this presentation, his name is Patrick, if you on, and there's a Nieman journalism lab post about it, and they put his speaker deck slide show on this but one of the things that he talked about was I guess one of the tricks they use, and he talks about lots of tricks is inlining critical CSS such that it was only there, and I think that also helps to avoid some of the flash.  But there is a portion further in the deck where he talks about what fonts, too.  But that may be interesting, this particular.
>> One thing that we were speculating on was what if you could get -- do a sort of, like, a tiny font that just has the glyphs that's just above the full that you could put in a data URL in your CSS and then have, when the full thing comes in, I don't think you could get a font that small.  And, the backend effort required to get that --
>> It would be different per article, right?
>> It would.  What if you had a font that was just metrics, did not actually have the glyphs, so it would load, and everything would space out.
>> One character?
ALLEN:  Cool, well it seems like a lot of people have very solution-specific questions.  So I'm glad that we had that there.  And if you have any follow-up things, just talk to the person, or stick it on the back.  Thanks, guys.
>> Thank you.
[ Applause ]

